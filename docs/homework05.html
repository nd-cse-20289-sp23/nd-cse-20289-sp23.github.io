<!DOCTYPE html>
<html lang="en">
    <head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>Homework 05: Data Processing</title>

	<!-- Bootstrap core CSS -->
	<link href="static/css/blugold.css" rel="stylesheet">
	<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

	<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->

	<style>
	body {
	    padding: 10px;
	}
	</style>
    </head>
    <body>
	<div class="container">

	    <div class="row">
		<div class="page-header">
		    <ul class="nav nav-pills pull-right">
			
			<li><a href="index.html"><i class="fa fa-linux"></i> <span class="visible-md-inline visible-lg-inline">Home</span></a></li>
			
		    </ul>
		    <h1><i class="fa fa-code"></i> Homework 05: Data Processing</h1>
		</div>
	    </div>

            
<p>The goal of this homework assignment is to allow you to practice using
<a href="https://www.python.org/">Python</a> to create scripts that require sophisticated parsing of data and
manipulation of <a href="https://en.wikipedia.org/wiki/Data_structure">data structures</a>.  In this assignment, you will download
data in both <a href="https://en.wikipedia.org/wiki/Comma-separated_values">CSV</a> and <a href="http://www.json.org/">JSON</a> format, process it, and then present it to the
user in the terminal.</p>
<p>For this assignment, record your scripts and any responses to the following
activities in the <code>homework05</code> folder of your <strong>assignments</strong> <a href="https://github.com">GitHub</a>
repository and push your work by <strong>noon Saturday, March 4</strong>.</p>
<h2 id="activity-0-preparation">Activity 0: Preparation<a class="headerlink" href="#activity-0-preparation" title="Permanent link">&para;</a></h2>
<p>Before starting this homework assignment, you should first perform a <code>git
pull</code> to retrieve any changes in your remote <a href="https://github.com">GitHub</a> repository:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ <span style="color: #008000">cd</span> path/to/repository                   <span style="color: #3D7B7B; font-style: italic"># Go to assignments repository</span>

$ git checkout master                     <span style="color: #3D7B7B; font-style: italic"># Make sure we are in master branch</span>

$ git pull --rebase                       <span style="color: #3D7B7B; font-style: italic"># Get any remote changes not present locally</span>
</code></pre></div>

<p>Next, create a new branch for this assignment:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ git checkout -b homework05              <span style="color: #3D7B7B; font-style: italic"># Create homework05 branch and check it out</span>
</code></pre></div>

<p>Once this is done, download the <code>Makefile</code> and test scripts:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Go to homework05 folder</span>
$ <span style="color: #008000">cd</span> homework05

<span style="color: #3D7B7B; font-style: italic"># Download the Makefile</span>
$ curl -LO https://raw.githubusercontent.com/nd-cse-20289-sp23/cse-20289-sp23-assignments/master/homework05/Makefile

<span style="color: #3D7B7B; font-style: italic"># Add and commit Makefile</span>
$ git add Makefile
$ git commit -m <span style="color: #BA2121">&quot;homework05: add Makefile&quot;</span>

<span style="color: #3D7B7B; font-style: italic"># Download the test scripts</span>
$ make test-scripts
</code></pre></div>

<p>You are now ready to work on the activities below.</p>
<div class="alert alert-success">
<h4 id="frequently-asked-questions"><i class="fa fa-question"></i> Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permanent link">&para;</a></h4>
<div class="text-center">
<iframe allowfullscreen="true" frameborder="0" height="389" mozallowfullscreen="true" src="https://docs.google.com/presentation/d/e/2PACX-1vR_Sp6yHPnJeXOnSwNIsiGksOUzgGBd80Ml_kxuqI069GizDC16hPMMihXKifdq3iaMkg1xBTOJdJY8/embed?start=false&amp;loop=false&amp;delayms=3000" webkitallowfullscreen="true" width="480"></iframe>
</div>
</div>
<div class="alert alert-warning">
<p><strong>Note</strong>, you do not need to add and commit the test scripts since the
Makefile will automaticaly download them again whenever you run make.</p>
</div>
<h2 id="activity-1-reddit-5-points">Activity 1: Reddit (5 Points)<a class="headerlink" href="#activity-1-reddit-5-points" title="Permanent link">&para;</a></h2>
<p>Katie likes to sit in the back of the class.  It has its <strong>perks</strong>:</p>
<ul>
<li>
<p>She can beat the rush out the door when class ends.</p>
</li>
<li>
<p>She can see everyone browsing Facebook, playing video games<sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup>, watching
  YouTube, or doing homework.</p>
</li>
<li>
<p>She feels safe from being called upon by the instructor... except when he
  does that strange thing where he goes around the class and tries to talk to
  people.  Totally weird <sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup>.</p>
</li>
</ul>
<p>That said, sitting in the back has its <strong>downsides</strong>:</p>
<ul>
<li>
<p>She can never see what the instructor is writing because he has terrible
  handwriting and always writes too small <sup id="fnref:3"><a class="footnote-ref" href="#fn:3">3</a></sup>.</p>
</li>
<li>
<p>She is prone to falling asleep because the instructor is really boring and
  the class is not as interesting as her other computer science courses.</p>
</li>
</ul>
<p>To combat her boredom, Katie typically just browses <a href="https://www.reddit.com">Reddit</a>.  Her favorite
<a href="https://www.reddit.com/reddits/">subreddits</a> are <a href="https://www.reddit.com/r/AdviceAnimals/">AdviceAnimals</a>, <a href="https://www.reddit.com/r/aww/">aww</a>, <a href="https://www.reddit.com/r/todayilearned/">todayilearned</a>, and of course
<a href="https://www.reddit.com/r/unixporn">UnixPorn</a>.  Lately, however, Katie has grown paranoid that her web browser
is leaking information about her<sup id="fnref:4"><a class="footnote-ref" href="#fn:4">4</a></sup>, and so she wants to be able to get the
latest links from <a href="https://www.reddit.com">Reddit</a> directly in her terminal.</p>
<p>Fortunately for Katie, <a href="https://www.reddit.com">Reddit</a> provides a <a href="http://www.json.org/">JSON</a> feed for every subreddit.
You simply need to append <code>.json</code> to the end of each subreddit.  For
instance, the <a href="http://www.json.org/">JSON</a> feed for <a href="https://www.reddit.com/r/todayilearned/">todayilearned</a> can be found here:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>https://www.reddit.com/r/todayilearned/.json
</code></pre></div>

<p>To fetch that data, Katie uses the <a href="http://docs.python-requests.org/en/master/">Requests</a> package in <a href="https://www.python.org/">Python</a> to access
the <a href="http://www.json.org/">JSON</a> data:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>r <span style="color: #666666">=</span> requests<span style="color: #666666">.</span>get(<span style="color: #BA2121">&#39;https://www.reddit.com/r/todayilearned/.json&#39;</span>)
<span style="color: #008000">print</span>(r<span style="color: #666666">.</span>json())
</code></pre></div>

<div class="alert alert-warning">
<h4 id="429-too-many-requests"><i class="fa fa-reddit"></i> 429 Too Many Requests<a class="headerlink" href="#429-too-many-requests" title="Permanent link">&para;</a></h4>
<p><a href="https://www.reddit.com">Reddit</a> tries to prevent bots from accessing its website too often.  To work
around any <strong>429: Too Many Requests</strong> errors, we can trick <a href="https://www.reddit.com">Reddit</a> by
specifying our own user agent:<br><br></p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>headers  <span style="color: #666666">=</span> {<span style="color: #BA2121">&#39;user-agent&#39;</span>: <span style="color: #BA2121">&#39;reddit-</span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121">&#39;</span><span style="color: #666666">.</span>format(os<span style="color: #666666">.</span>environ<span style="color: #666666">.</span>get(<span style="color: #BA2121">&#39;USER&#39;</span>, <span style="color: #BA2121">&#39;cse-20289-sp23&#39;</span>))}
response <span style="color: #666666">=</span> requests<span style="color: #666666">.</span>get(url, headers<span style="color: #666666">=</span>headers)
</code></pre></div>

<p>This should allow you to make requests without getting the dreaded <strong>429</strong>
error.</p>
</div>
<p>The code above would output something like the following:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>{<span style="color: #008000; font-weight: bold">&quot;kind&quot;</span>:<span style="color: #bbbbbb"> </span><span style="color: #BA2121">&quot;Listing&quot;</span>,<span style="color: #bbbbbb"> </span><span style="color: #008000; font-weight: bold">&quot;data&quot;</span>:<span style="color: #bbbbbb"> </span>{<span style="color: #008000; font-weight: bold">&quot;modhash&quot;</span>:<span style="color: #bbbbbb"> </span><span style="color: #BA2121">&quot;g8n3uwtdj363d5abd2cbdf61ed1aef6e2825c29dae8c9fa113&quot;</span>,<span style="color: #bbbbbb"> </span><span style="color: #008000; font-weight: bold">&quot;children&quot;</span>:<span style="color: #bbbbbb"> </span>[{<span style="color: #008000; font-weight: bold">&quot;kind&quot;</span>:<span style="color: #bbbbbb"> </span><span style="color: #BA2121">&quot;t3&quot;</span>,<span style="color: #bbbbbb"> </span><span style="color: #008000; font-weight: bold">&quot;data&quot;</span>:<span style="color: #bbbbbb"> </span><span style="border: 1px solid #FF0000">...</span><span style="color: #bbbbbb"></span>
</code></pre></div>

<p>Looking through that stream of text, Katie sees that the <a href="http://www.json.org/">JSON</a> data is a
collection of structured or hierarchical <a href="https://docs.python.org/3/library/stdtypes.html#mapping-types-dict">dictionaries</a> and <a href="https://docs.python.org/3/library/stdtypes.html#sequence-types-list-tuple-range">lists</a>.  This
looks a bit complex to her, so she wants you to help her complete the
<code>reddit.py</code> script which fetches the <a href="http://www.json.org/">JSON</a> data for a specified
<strong>subreddit</strong> or <strong>URL</strong> and allows the user to sort the articles by various
fields, restrict the number of items displayed, and even shorten the <strong>URLs</strong>
of each article.</p>
<h3 id="task-1-redditpy">Task 1: <code>reddit.py</code><a class="headerlink" href="#task-1-redditpy" title="Permanent link">&para;</a></h3>
<p>The <code>reddit.py</code> script takes the following arguments:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ ./reddit.py
Usage: reddit.py [options] URL_OR_SUBREDDIT

    -s          Shorten URLs using (default: False)
    -n LIMIT    Number of articles to display (default: 10)
    -o ORDERBY  Field to sort articles by (default: score)
    -t TITLELEN Truncate title to specified length (default: 60)
</code></pre></div>

<p>The <code>-s</code> flag shortens <strong>URLs</strong> using the <a href="https://is.gd/">is.gd</a> web service.  This means
that long <strong>URLs</strong> are converted into shorter ones such as: <a href="https://is.gd/g3QdWp">https://is.gd/g3QdWp</a></p>
<p>The <code>-n</code> flag specifies the number of articles to display.  By default, this is <code>10</code>.</p>
<p>The <code>-o</code> flag specifies the <a href="https://www.reddit.com">Reddit</a> article attribute to use for sorting the
articles.  By default this should be <code>score</code>.  Note, if the <code>ORDERBY</code>
parameter is <code>score</code>, then the articles should be ordered in <strong>descending
order</strong>.  Otherwise, the articles should be ranked in <strong>ascending order</strong>.</p>
<p>The <code>-t</code> flag specifies the maximum length for the articles' titles.  Titles
longer than this value should be truncated.  The default value is <code>60</code>.</p>
<h4 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">&para;</a></h4>
<p>Here are some examples of <code>reddit.py</code> in action:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code># Show Linux subreddit
$ ./reddit.py linux
  1.    Vanilla OS can finish my distro hopping with these subsystem (Score: 915)
  https://i.redd.it/j9hpe2pnw3ja1.png

  2.    The 6.2 kernel has been released (Score: 732)
  https://lwn.net/Articles/923732/

  3.    NEW New Hampshire software freedom bill on 21 February 2023  (Score: 392)
  https://libreboot.org/news/usa-libre-part3.html

  4.    Just submitted my first AUR package to control monitor brigh (Score: 231)
  https://aur.archlinux.org/packages/brightness

  5.    Czkawka 5.1 - Unnecessary file cleaner of unnecessary files, (Score: 102)
  https://www.reddit.com/r/linux/comments/1169jod/czkawka_51_unnecessary_file_cleaner_of/

  6.    Disability accessibility tools for Linux such as eyetrackers (Score: 69)
  https://www.reddit.com/r/linux/comments/116z1r8/disability_accessibility_tools_for_linux_such_as/

  7.    Budgie 10.7.1 Released (Score: 64)
  https://blog.buddiesofbudgie.org/budgie-10-7-1-released/

  8.    Few lesser known tricks, quirks and features of C (Score: 45)
  https://blog.joren.ga/less-known-c

  9.    lastresort(1) – Base 256 codec with easily typed words, vers (Score: 42)
  https://github.com/ctsrc/Base256

  10.   A guide to open source project governance models (Score: 38)
  https://www.redhat.com/en/resources/guide-to-open-source-project-governance-models-overview

# Show top 5 nba articles
$ ./reddit.py -n 5 nba
  1.    [Highlight] Nikola Jokic doesn&#39;t want to get picked last as  (Score: 15358)
  https://streamable.com/gafgvm

  2.    [Wojnarowski] After finalizing a contract buyout with the Ut (Score: 11009)
  https://twitter.com/wojespn/status/1627694579540709381

  3.    [Highlight] “These people going to heaven, ain’t nothing to  (Score: 9995)
  https://streamable.com/6it7we

  4.    [Highlight] Damian Lillard casually hits the beyond half cou (Score: 8282)
  https://streamable.com/cwllbi

  5.    [Woike] “That’s not basketball,” Jaylen Brown said. Called t (Score: 6448)
  https://twitter.com/DanWoikeSports/status/1627521703441211394

# Show top 2 Clash Royale articles sorted by title
$ ./reddit.py -n 2 -o title ClashRoyale
  1.    After effects of super magic archer challenge (Score: 39)
  https://i.redd.it/0b0gclkiqcja1.jpg

  2.    Angry bull card idea (Score: 13)
  https://i.redd.it/x3b6ye1x5fja1.png

# Show top 2 unixporn articles sorted by score (with shorten URLs)
$ ./reddit.py -n 2 -o score -s unixporn
  1.    [Hyprland] Carbonfox needs more love (Score: 643)
  https://is.gd/XKBcJY

  2.    [bspwm] with polybar and interactive wallpaper using my own  (Score: 336)
  https://is.gd/HuXNuy
</code></pre></div>

<div class="alert alert-warning">
<h4 id="well-do-it-live"><i class="fa fa-reddit"></i> We'll do it live<a class="headerlink" href="#well-do-it-live" title="Permanent link">&para;</a></h4>
<p>Note, since we are pulling data from an active website, the articles may
change between runs.</p>
</div>
<h4 id="skeleton-code">Skeleton Code<a class="headerlink" href="#skeleton-code" title="Permanent link">&para;</a></h4>
<p>Here is skeleton code you can use to start your <code>reddit.py</code> script:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Download reddit.py skeleton</span>
$ curl -LO https://raw.githubusercontent.com/nd-cse-20289-sp23/cse-20289-sp23-assignments/master/homework05/reddit.py
</code></pre></div>

<p>It should look something like this:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">os</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">sys</span>

<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">requests</span>

<span style="color: #3D7B7B; font-style: italic"># Constants</span>

ISGD_URL <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;http://is.gd/create.php&#39;</span>

<span style="color: #3D7B7B; font-style: italic"># Functions</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">usage</span>(status<span style="color: #666666">=0</span>):
    <span style="color: #BA2121; font-style: italic">&#39;&#39;&#39; Display usage information and exit with specified status &#39;&#39;&#39;</span>
    <span style="color: #008000">print</span>(<span style="color: #BA2121">&#39;&#39;&#39;Usage: </span><span style="color: #A45A77; font-weight: bold">{}</span><span style="color: #BA2121"> [options] URL_OR_SUBREDDIT</span>

<span style="color: #BA2121">    -s          Shorten URLs using (default: False)</span>
<span style="color: #BA2121">    -n LIMIT    Number of articles to display (default: 10)</span>
<span style="color: #BA2121">    -o ORDERBY  Field to sort articles by (default: score)</span>
<span style="color: #BA2121">    -t TITLELEN Truncate title to specified length (default: 60)</span>
<span style="color: #BA2121">    &#39;&#39;&#39;</span><span style="color: #666666">.</span>format(os<span style="color: #666666">.</span>path<span style="color: #666666">.</span>basename(sys<span style="color: #666666">.</span>argv[<span style="color: #666666">0</span>])))
    sys<span style="color: #666666">.</span>exit(status)

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">load_reddit_data</span>(url):
    <span style="color: #BA2121; font-style: italic">&#39;&#39;&#39; Load reddit data from specified URL into dictionary</span>

<span style="color: #BA2121; font-style: italic">    &gt;&gt;&gt; len(load_reddit_data(&#39;https://reddit.com/r/nba/.json&#39;)) &gt;= 25</span>
<span style="color: #BA2121; font-style: italic">    True</span>

<span style="color: #BA2121; font-style: italic">    &gt;&gt;&gt; load_reddit_data(&#39;linux&#39;)[0][&#39;data&#39;][&#39;subreddit&#39;]</span>
<span style="color: #BA2121; font-style: italic">    &#39;linux&#39;</span>
<span style="color: #BA2121; font-style: italic">    &#39;&#39;&#39;</span>
    <span style="color: #008000; font-weight: bold">return</span> []

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">shorten_url</span>(url):
    <span style="color: #BA2121; font-style: italic">&#39;&#39;&#39; Shorten URL using is.gd service</span>

<span style="color: #BA2121; font-style: italic">    &gt;&gt;&gt; shorten_url(&#39;https://reddit.com/r/aoe2&#39;)</span>
<span style="color: #BA2121; font-style: italic">    &#39;https://is.gd/dL5bBZ&#39;</span>

<span style="color: #BA2121; font-style: italic">    &gt;&gt;&gt; shorten_url(&#39;https://cse.nd.edu&#39;)</span>
<span style="color: #BA2121; font-style: italic">    &#39;https://is.gd/3gwUc8&#39;</span>
<span style="color: #BA2121; font-style: italic">    &#39;&#39;&#39;</span>
    <span style="color: #008000; font-weight: bold">return</span> <span style="color: #BA2121">&#39;&#39;</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">print_reddit_data</span>(data, limit<span style="color: #666666">=10</span>, orderby<span style="color: #666666">=</span><span style="color: #BA2121">&#39;score&#39;</span>, titlelen<span style="color: #666666">=60</span>, shorten<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">False</span>):
    <span style="color: #BA2121; font-style: italic">&#39;&#39;&#39; Dump reddit data based on specified attributes &#39;&#39;&#39;</span>
    <span style="color: #008000; font-weight: bold">pass</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">main</span>():
    arguments <span style="color: #666666">=</span> sys<span style="color: #666666">.</span>argv[<span style="color: #666666">1</span>:]
    url       <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">None</span>
    limit     <span style="color: #666666">=</span> <span style="color: #666666">10</span>
    orderby   <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;score&#39;</span>
    titlelen  <span style="color: #666666">=</span> <span style="color: #666666">60</span>
    shorten   <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">False</span>

<span style="color: #3D7B7B; font-style: italic"># Main Execution</span>

<span style="color: #008000; font-weight: bold">if</span> <span style="color: #19177C">__name__</span> <span style="color: #666666">==</span> <span style="color: #BA2121">&#39;__main__&#39;</span>:
    main()
</code></pre></div>

<div class="alert alert-success">
<h4 id="hints"><i class="fa fa-lightbulb-o"></i> Hints<a class="headerlink" href="#hints" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Read the <code>TODO</code> comments carefully.  <strong>DO NOT REMOVE THE <a href="https://docs.python.org/3/library/doctest.html">doctests</a></strong>!</p>
</li>
<li>
<p><code>load_reddit_data</code>: To fetch the <a href="https://www.reddit.com">Reddit</a> data, you can use the
  <a href="http://docs.python-requests.org/en/master/user/quickstart/#make-a-request">requests.get</a> method.  You can then access the <a href="http://www.json.org/">JSON</a> data via the
  <code>json()</code> method of the object returned by <a href="http://docs.python-requests.org/en/master/user/quickstart/#make-a-request">requests.get</a>.  You will need to
  think carefully about what portion of the <a href="http://www.json.org/">JSON</a> you actually want to
  utilize.</p>
</li>
<li>
<p><code>print_reddit_data</code>: To display the articles, this function can use the
  <a href="https://docs.python.org/3/library/functions.html#sorted">sorted</a> function with either the <code>reverse</code> or <code>key</code> parameter to order the
  articles.  It can then <strong>slice</strong> the resulting articles to limit the number
  of things displayed.</p>
<p>Note, a <code>tab</code> character is used to separate the <code>index</code> and the <code>title</code>
and to indent the <code>url</code>.</p>
<p>To sort by a particular field or attribute, you can take advantage of the
<code>key</code> parameter of the <a href="https://docs.python.org/3/library/functions.html#sorted">sorted</a> function:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>articles <span style="color: #666666">=</span> <span style="color: #008000">sorted</span>(data, key<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">lambda</span> i: i[field])
</code></pre></div>

</li>
<li>
<p><code>shorten_url</code>: To shorten a <strong>URL</strong>, you can use the <a href="http://docs.python-requests.org/en/master/user/quickstart/#make-a-request">requests.get</a> method
  to make a request to the <a href="https://is.gd/">is.gd</a> webservice with the appropriate <code>params</code>
  as shown below:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>requests<span style="color: #666666">.</span>get(ISGD_URL, params<span style="color: #666666">=</span>{<span style="color: #BA2121">&#39;format&#39;</span>: <span style="color: #BA2121">&#39;json&#39;</span>, <span style="color: #BA2121">&#39;url&#39;</span>: url})
</code></pre></div>

<p>You will need to parse the result of this request to extract the
shortened <strong>URL</strong>.</p>
</li>
</ul>
</div>
<h3 id="task-2-test_redditsh">Task 2: <code>test_reddit.sh</code><a class="headerlink" href="#task-2-test_redditsh" title="Permanent link">&para;</a></h3>
<p>To aid you in testing the <code>reddit.py</code> script, we have provided you with
<code>test_reddit.sh</code>, which you can use as follows:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ ./test_reddit.sh
Testing reddit.py ...
   Doctests                                 ... <span style="color: #666666">1</span>.00 / <span style="color: #666666">1</span>.00
   Bad arguments                            ... Success
   -h                                       ... Success
   No arguments                             ... Success
   linuxactionshow                          ... Success
   linuxactionshow <span style="color: #666666">(</span>-n <span style="color: #666666">1)</span>                   ... Success
   linuxactionshow <span style="color: #666666">(</span>-o url<span style="color: #666666">)</span>                 ... Success
   linuxactionshow <span style="color: #666666">(</span>-t <span style="color: #666666">10)</span>                  ... Success
   linuxactionshow <span style="color: #666666">(</span>-s<span style="color: #666666">)</span>                     ... Success
   pop-os                                   ... Success
   pop-os <span style="color: #666666">(</span>-n <span style="color: #666666">5)</span>                            ... Success
   pop-os <span style="color: #666666">(</span>-n <span style="color: #666666">5</span> -o title<span style="color: #666666">)</span>                   ... Success
   pop-os <span style="color: #666666">(</span>-n <span style="color: #666666">5</span> -o url -t <span style="color: #666666">20)</span>               ... Success
   pop-os <span style="color: #666666">(</span>-n <span style="color: #666666">2</span> -o score -t <span style="color: #666666">40</span> -s<span style="color: #666666">)</span>          ... Success

   Score <span style="color: #666666">5</span>.00 / <span style="color: #666666">5</span>.00
  Status Success
</code></pre></div>

<p>Note, we chose an <strong>inactive</strong> subreddit,
<a href="https://www.reddit.com/r/linuxactionshow">r/linuxactionshow</a> for our test
script since it should not change.  However, it is possible that it may
change<sup id="fnref:5"><a class="footnote-ref" href="#fn:5">5</a></sup> and thus break our test script.  Just let the staff know and
adjustments can be made.</p>
<h2 id="activity-2-cse-demographics-6-points">Activity 2: CSE Demographics (6 Points)<a class="headerlink" href="#activity-2-cse-demographics-6-points" title="Permanent link">&para;</a></h2>
<p>One of the most pressing questions in Computer Science education is
addressing the <a href="https://blog.google/topics/education/racial-and-gender-gaps-computer-science-learning-new-google-gallup-research/">lack of diversity</a> in computing.  In order to meanfully
examine this issue, we will first need to look at some raw data.  For this
activity, you are to a script, <code>demographics.py</code>, that downloads, processes,
and visualizes the Computer Science and Engineering <a href="https://yld.me/raw/e2Ad">demographic data</a> from
the classes of <strong>2013</strong> through <strong>2025</strong>.</p>
<h3 id="background">Background<a class="headerlink" href="#background" title="Permanent link">&para;</a></h3>
<p>For context and background material, you may wish to first read some of the
following articles regarding gender and ethnic diversity in Computer Science
and the technology industry in general:</p>
<ul>
<li>
<p><a href="https://blog.google/outreach-initiatives/education/computer-science-education-research/">Computer science education still has diversity gaps</a></p>
</li>
<li>
<p><a href="https://theconversation.com/computer-science-jobs-pay-well-and-are-growing-fast-why-are-they-out-of-reach-for-so-many-of-americas-students-150419">Computer science jobs pay well and are growing fast. Why are they out of reach for so many of America’s students</a></p>
</li>
<li>
<p><a href="https://www.nytimes.com/2019/02/13/magazine/women-coding-computer-programming.html">The Secret History of Women in Coding</a></p>
</li>
<li>
<p><a href="https://quillette.com/2018/06/19/why-women-dont-code/">Why Women Don’t Code</a></p>
</li>
<li>
<p><a href="https://danluu.com/tech-discrimination/">Markets, discrimination, and "lowering the bar"</a></p>
</li>
<li>
<p><a href="https://cacm.acm.org/magazines/2019/2/234346-how-computer-science-at-cmu-is-attracting-and-retaining-women/fulltext">How Computer Science at CMU Is Attracting and Retaining Women</a></p>
</li>
</ul>
<div class="alert alert-info">
<h4 id="ethical-and-professional-issues"><i class="fa fa-gavel"></i> Ethical and Professional Issues<a class="headerlink" href="#ethical-and-professional-issues" title="Permanent link">&para;</a></h4>
<p>This assignment is inspired by a
<a href="https://www3.nd.edu/~pbui/teaching/cse.40175.fa19/reading04.html">discussion</a>
we have in the <a href="https://csethics.nd.edu">CSE 40175 Ethical and Professional Issues</a> class, which is a
required course for all <a href="https://cse.nd.edu">Computer Science and Engineering</a> students.</p>
</div>
<h3 id="demographic-data">Demographic Data<a class="headerlink" href="#demographic-data" title="Permanent link">&para;</a></h3>
<p>Our beloved <a href="http://www3.nd.edu/~rbualuan/personal.html">Ramzi</a> has graciously provided us with the student <a href="https://yld.me/raw/e2Ad">demographic
data</a> for all <a href="https://cse.nd.edu">Computer Science and Engineering</a> students from the class of
<strong>2013</strong> through <strong>2025</strong>.  This data looks something like this:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ curl -sL https://yld.me/raw/e2Ad | head -n 10
Year,Gender,Ethnic
2013,M,C
2014,M,C
2015,F,N
2016,F,N
2017,M,C
2018,M,C
2013,M,C
2014,M,S
2015,M,C
</code></pre></div>

<p>As can be seen above, the demographics <a href="https://en.wikipedia.org/wiki/Comma-separated_values">CSV</a> data has three columns:</p>
<ol>
<li>
<p>The first column represents the graduating class year that student belongs
to.</p>
</li>
<li>
<p>The second column records the <strong>gender</strong> of the student and contains
either <code>M</code> or <code>F</code> which stands for <code>Male</code> or <code>Female</code> respectively.</p>
</li>
<li>
<p>The third column records the <strong>ethnicity</strong> of the student and consists of
the following mapping:</p>
<p><table class="table table-striped table-bordered">
  <thead>
    <th>Letter</th>
    <th>Ethnicity</th>
  </thead>
  <tbody>
    <tr>
      <td>C</td>
      <td>Caucasian</td>
    </tr>
    <tr>
      <td>O</td>
      <td>Asian</td>
    </tr>
    <tr>
      <td>S</td>
      <td>Hispanic</td>
    </tr>
    <tr>
      <td>B</td>
      <td>Black or African American</td>
    </tr>
    <tr>
      <td>N</td>
      <td>Native American / Pacific Islanders</td>
    </tr>
    <tr>
      <td>T</td>
      <td>Multiple Selection</td>
    </tr>
    <tr>
      <td>U</td>
      <td>Undeclared</td>
    </tr>
  </tbody>
</table></p>
</li>
</ol>
<h3 id="task-1-demographicspy">Task 1: <code>demographics.py</code><a class="headerlink" href="#task-1-demographicspy" title="Permanent link">&para;</a></h3>
<p>The <code>demographics.py</code> script takes the following arguments:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Display usage message</span>
$ ./demographics.py -h
Usage: demographics.py <span style="color: #666666">[</span>options<span style="color: #666666">]</span> <span style="color: #666666">[</span>URL<span style="color: #666666">]</span>

    -y  YEARS   Which years to display <span style="color: #666666">(</span>default: all<span style="color: #666666">)</span>
    -p          Display data as percentages.
    -G          Do not include gender information.
    -E          Do not include ethnic information.
</code></pre></div>

<p>The <code>-y</code> flag specifies which years to display (the default is to display all
the years in the <a href="https://en.wikipedia.org/wiki/Comma-separated_values">CSV</a> data).</p>
<p>The <code>-p</code> flag forces the script to output data as percentages rather than raw
counts.</p>
<p>The <code>-G</code> and <code>-E</code> flags suppresses outputting the gender and ethnic data
respectively.</p>
<p>The user may specify a <code>URL</code> to the <a href="https://en.wikipedia.org/wiki/Comma-separated_values">CSV</a> file.  If one is not specified then
the script will use <a href="https://yld.me/raw/e2Ad">https://yld.me/raw/e2Ad</a> as the
<code>URL</code>.</p>
<div class="alert alert-warning">
<p><strong>Note</strong>, the years are always displayed in ascending order.</p>
</div>
<h4 id="examples_1">Examples<a class="headerlink" href="#examples_1" title="Permanent link">&para;</a></h4>
<p>Here are some examples of <code>demographics.py</code> in action:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># No arguments</span>
$ ./demographics.py
        <span style="color: #666666">2013</span>    <span style="color: #666666">2014</span>    <span style="color: #666666">2015</span>    <span style="color: #666666">2016</span>    <span style="color: #666666">2017</span>    <span style="color: #666666">2018</span>    <span style="color: #666666">2019</span>    <span style="color: #666666">2020</span>    <span style="color: #666666">2021</span>    <span style="color: #666666">2022</span>    <span style="color: #666666">2023</span>    <span style="color: #666666">2024</span>    <span style="color: #19177C">2025</span>
<span style="color: #666666">================================================================================================================</span>
  M      <span style="color: #666666">49</span>      <span style="color: #666666">44</span>      <span style="color: #666666">58</span>      <span style="color: #666666">60</span>      <span style="color: #666666">65</span>     <span style="color: #666666">101</span>      <span style="color: #666666">96</span>      <span style="color: #666666">92</span>      <span style="color: #666666">89</span>     <span style="color: #666666">124</span>     <span style="color: #666666">114</span>     <span style="color: #666666">120</span>     <span style="color: #666666">105</span>
  F      <span style="color: #666666">14</span>      <span style="color: #666666">12</span>      <span style="color: #666666">16</span>      <span style="color: #666666">19</span>      <span style="color: #666666">26</span>      <span style="color: #666666">45</span>      <span style="color: #666666">54</span>      <span style="color: #666666">43</span>      <span style="color: #666666">46</span>      <span style="color: #666666">41</span>      <span style="color: #666666">52</span>      <span style="color: #666666">57</span>      <span style="color: #666666">39</span>
----------------------------------------------------------------------------------------------------------------
  B       <span style="color: #666666">3</span>       <span style="color: #666666">2</span>       <span style="color: #666666">4</span>       <span style="color: #666666">1</span>       <span style="color: #666666">5</span>       <span style="color: #666666">3</span>       <span style="color: #666666">3</span>       <span style="color: #666666">4</span>       <span style="color: #666666">6</span>       <span style="color: #666666">4</span>       <span style="color: #666666">2</span>       <span style="color: #666666">4</span>       <span style="color: #666666">7</span>
  C      <span style="color: #666666">43</span>      <span style="color: #666666">43</span>      <span style="color: #666666">47</span>      <span style="color: #666666">53</span>      <span style="color: #666666">60</span>     <span style="color: #666666">107</span>      <span style="color: #666666">96</span>      <span style="color: #666666">92</span>      <span style="color: #666666">87</span>     <span style="color: #666666">106</span>      <span style="color: #666666">98</span>     <span style="color: #666666">110</span>      <span style="color: #666666">82</span>
  N       <span style="color: #666666">1</span>       <span style="color: #666666">1</span>       <span style="color: #666666">1</span>       <span style="color: #666666">7</span>       <span style="color: #666666">5</span>       <span style="color: #666666">5</span>      <span style="color: #666666">13</span>      <span style="color: #666666">14</span>      <span style="color: #666666">13</span>      <span style="color: #666666">14</span>      <span style="color: #666666">16</span>      <span style="color: #666666">11</span>      <span style="color: #666666">12</span>
  O       <span style="color: #666666">7</span>       <span style="color: #666666">5</span>       <span style="color: #666666">9</span>       <span style="color: #666666">9</span>      <span style="color: #666666">12</span>      <span style="color: #666666">10</span>      <span style="color: #666666">13</span>       <span style="color: #666666">7</span>       <span style="color: #666666">8</span>      <span style="color: #666666">14</span>      <span style="color: #666666">11</span>      <span style="color: #666666">22</span>      <span style="color: #666666">13</span>
  S       <span style="color: #666666">7</span>       <span style="color: #666666">4</span>      <span style="color: #666666">10</span>       <span style="color: #666666">9</span>       <span style="color: #666666">3</span>      <span style="color: #666666">13</span>      <span style="color: #666666">10</span>      <span style="color: #666666">10</span>      <span style="color: #666666">11</span>      <span style="color: #666666">17</span>      <span style="color: #666666">26</span>      <span style="color: #666666">19</span>      <span style="color: #666666">18</span>
  T       <span style="color: #666666">2</span>       <span style="color: #666666">1</span>       <span style="color: #666666">1</span>       <span style="color: #666666">0</span>       <span style="color: #666666">6</span>       <span style="color: #666666">8</span>      <span style="color: #666666">15</span>       <span style="color: #666666">7</span>       <span style="color: #666666">9</span>       <span style="color: #666666">8</span>      <span style="color: #666666">11</span>       <span style="color: #666666">7</span>       <span style="color: #666666">8</span>
  U       <span style="color: #666666">0</span>       <span style="color: #666666">0</span>       <span style="color: #666666">2</span>       <span style="color: #666666">0</span>       <span style="color: #666666">0</span>       <span style="color: #666666">0</span>       <span style="color: #666666">0</span>       <span style="color: #666666">1</span>       <span style="color: #666666">1</span>       <span style="color: #666666">1</span>       <span style="color: #666666">2</span>       <span style="color: #666666">4</span>       <span style="color: #666666">4</span>
----------------------------------------------------------------------------------------------------------------

<span style="color: #3D7B7B; font-style: italic"># Show percentages rather than raw counts</span>
$ ./demographics.py -p
       <span style="color: #666666">2013</span>    <span style="color: #666666">2014</span>    <span style="color: #666666">2015</span>    <span style="color: #666666">2016</span>    <span style="color: #666666">2017</span>    <span style="color: #666666">2018</span>    <span style="color: #666666">2019</span>    <span style="color: #666666">2020</span>    <span style="color: #666666">2021</span>    <span style="color: #666666">2022</span>    <span style="color: #666666">2023</span>    <span style="color: #666666">2024</span>    <span style="color: #19177C">2025</span>
<span style="color: #666666">================================================================================================================</span>
  M   <span style="color: #666666">77</span>.8%   <span style="color: #666666">78</span>.6%   <span style="color: #666666">78</span>.4%   <span style="color: #666666">75</span>.9%   <span style="color: #666666">71</span>.4%   <span style="color: #666666">69</span>.2%   <span style="color: #666666">64</span>.0%   <span style="color: #666666">68</span>.1%   <span style="color: #666666">65</span>.9%   <span style="color: #666666">75</span>.2%   <span style="color: #666666">68</span>.7%   <span style="color: #666666">67</span>.8%   <span style="color: #666666">72</span>.9%
  F   <span style="color: #666666">22</span>.2%   <span style="color: #666666">21</span>.4%   <span style="color: #666666">21</span>.6%   <span style="color: #666666">24</span>.1%   <span style="color: #666666">28</span>.6%   <span style="color: #666666">30</span>.8%   <span style="color: #666666">36</span>.0%   <span style="color: #666666">31</span>.9%   <span style="color: #666666">34</span>.1%   <span style="color: #666666">24</span>.8%   <span style="color: #666666">31</span>.3%   <span style="color: #666666">32</span>.2%   <span style="color: #666666">27</span>.1%
----------------------------------------------------------------------------------------------------------------
  B    <span style="color: #666666">4</span>.8%    <span style="color: #666666">3</span>.6%    <span style="color: #666666">5</span>.4%    <span style="color: #666666">1</span>.3%    <span style="color: #666666">5</span>.5%    <span style="color: #666666">2</span>.1%    <span style="color: #666666">2</span>.0%    <span style="color: #666666">3</span>.0%    <span style="color: #666666">4</span>.4%    <span style="color: #666666">2</span>.4%    <span style="color: #666666">1</span>.2%    <span style="color: #666666">2</span>.3%    <span style="color: #666666">4</span>.9%
  C   <span style="color: #666666">68</span>.3%   <span style="color: #666666">76</span>.8%   <span style="color: #666666">63</span>.5%   <span style="color: #666666">67</span>.1%   <span style="color: #666666">65</span>.9%   <span style="color: #666666">73</span>.3%   <span style="color: #666666">64</span>.0%   <span style="color: #666666">68</span>.1%   <span style="color: #666666">64</span>.4%   <span style="color: #666666">64</span>.2%   <span style="color: #666666">59</span>.0%   <span style="color: #666666">62</span>.1%   <span style="color: #666666">56</span>.9%
  N    <span style="color: #666666">1</span>.6%    <span style="color: #666666">1</span>.8%    <span style="color: #666666">1</span>.4%    <span style="color: #666666">8</span>.9%    <span style="color: #666666">5</span>.5%    <span style="color: #666666">3</span>.4%    <span style="color: #666666">8</span>.7%   <span style="color: #666666">10</span>.4%    <span style="color: #666666">9</span>.6%    <span style="color: #666666">8</span>.5%    <span style="color: #666666">9</span>.6%    <span style="color: #666666">6</span>.2%    <span style="color: #666666">8</span>.3%
  O   <span style="color: #666666">11</span>.1%    <span style="color: #666666">8</span>.9%   <span style="color: #666666">12</span>.2%   <span style="color: #666666">11</span>.4%   <span style="color: #666666">13</span>.2%    <span style="color: #666666">6</span>.8%    <span style="color: #666666">8</span>.7%    <span style="color: #666666">5</span>.2%    <span style="color: #666666">5</span>.9%    <span style="color: #666666">8</span>.5%    <span style="color: #666666">6</span>.6%   <span style="color: #666666">12</span>.4%    <span style="color: #666666">9</span>.0%
  S   <span style="color: #666666">11</span>.1%    <span style="color: #666666">7</span>.1%   <span style="color: #666666">13</span>.5%   <span style="color: #666666">11</span>.4%    <span style="color: #666666">3</span>.3%    <span style="color: #666666">8</span>.9%    <span style="color: #666666">6</span>.7%    <span style="color: #666666">7</span>.4%    <span style="color: #666666">8</span>.1%   <span style="color: #666666">10</span>.3%   <span style="color: #666666">15</span>.7%   <span style="color: #666666">10</span>.7%   <span style="color: #666666">12</span>.5%
  T    <span style="color: #666666">3</span>.2%    <span style="color: #666666">1</span>.8%    <span style="color: #666666">1</span>.4%    <span style="color: #666666">0</span>.0%    <span style="color: #666666">6</span>.6%    <span style="color: #666666">5</span>.5%   <span style="color: #666666">10</span>.0%    <span style="color: #666666">5</span>.2%    <span style="color: #666666">6</span>.7%    <span style="color: #666666">4</span>.8%    <span style="color: #666666">6</span>.6%    <span style="color: #666666">4</span>.0%    <span style="color: #666666">5</span>.6%
  U    <span style="color: #666666">0</span>.0%    <span style="color: #666666">0</span>.0%    <span style="color: #666666">2</span>.7%    <span style="color: #666666">0</span>.0%    <span style="color: #666666">0</span>.0%    <span style="color: #666666">0</span>.0%    <span style="color: #666666">0</span>.0%    <span style="color: #666666">0</span>.7%    <span style="color: #666666">0</span>.7%    <span style="color: #666666">0</span>.6%    <span style="color: #666666">1</span>.2%    <span style="color: #666666">2</span>.3%    <span style="color: #666666">2</span>.8%
----------------------------------------------------------------------------------------------------------------

<span style="color: #3D7B7B; font-style: italic"># Show only gender percentages for the years 2022, 2023, and 2024 (with explicit URL)</span>
$ ./demographics.py -y <span style="color: #666666">2023</span>,2024,2025 -E -p https://yld.me/raw/e2Ad
       <span style="color: #666666">2023</span>    <span style="color: #666666">2024</span>    <span style="color: #19177C">2025</span>
<span style="color: #666666">================================</span>
  M   <span style="color: #666666">68</span>.7%   <span style="color: #666666">67</span>.8%   <span style="color: #666666">72</span>.9%
  F   <span style="color: #666666">31</span>.3%   <span style="color: #666666">32</span>.2%   <span style="color: #666666">27</span>.1%
--------------------------------
</code></pre></div>

<div class="alert alert-warning">
<h4 id="spacing-and-formatting"><i class="fa fa-warning"></i> Spacing and Formatting<a class="headerlink" href="#spacing-and-formatting" title="Permanent link">&para;</a></h4>
<p>Note, to pass the provided tests, you must match the spacing and formatting
<strong>exactly</strong>.  Only use <strong>spaces</strong> to align data (<strong>no <code>\t</code>) and make sure you
have </strong>no trailing whitespace**.</p>
<p>Formatting <strong>hints</strong> are provided in the <strong>docstrings</strong> provided in the
<strong>skeleton code</strong>.</p>
</div>
<h4 id="skeleton-code_1">Skeleton Code<a class="headerlink" href="#skeleton-code_1" title="Permanent link">&para;</a></h4>
<p>Here is skeleton code you can use to start your <code>demographics.py</code> script:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Download demographics.py skeleton</span>
$ curl -LO https://raw.githubusercontent.com/nd-cse-20289-sp23/cse-20289-sp23-assignments/master/homework05/demographics.py
</code></pre></div>

<p>It should look something like this:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">collections</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">os</span>
<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">sys</span>

<span style="color: #008000; font-weight: bold">import</span> <span style="color: #0000FF; font-weight: bold">requests</span>

<span style="color: #3D7B7B; font-style: italic"># Constants</span>

URL     <span style="color: #666666">=</span> <span style="color: #BA2121">&#39;https://yld.me/raw/e2Ad&#39;</span>
TAB     <span style="color: #666666">=</span> <span style="color: #BA2121">&#39; &#39;</span><span style="color: #666666">*8</span>
GENDERS <span style="color: #666666">=</span> (<span style="color: #BA2121">&#39;M&#39;</span>, <span style="color: #BA2121">&#39;F&#39;</span>)
ETHNICS <span style="color: #666666">=</span> (<span style="color: #BA2121">&#39;B&#39;</span>, <span style="color: #BA2121">&#39;C&#39;</span>, <span style="color: #BA2121">&#39;N&#39;</span>, <span style="color: #BA2121">&#39;O&#39;</span>, <span style="color: #BA2121">&#39;S&#39;</span>, <span style="color: #BA2121">&#39;T&#39;</span>, <span style="color: #BA2121">&#39;U&#39;</span>)

<span style="color: #3D7B7B; font-style: italic"># Functions</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">usage</span>(status<span style="color: #666666">=0</span>):
    <span style="color: #BA2121; font-style: italic">&#39;&#39;&#39; Display usage information and exit with specified status &#39;&#39;&#39;</span>
    progname <span style="color: #666666">=</span> os<span style="color: #666666">.</span>path<span style="color: #666666">.</span>basename(sys<span style="color: #666666">.</span>argv[<span style="color: #666666">0</span>])
    <span style="color: #008000">print</span>(<span style="color: #BA2121">f&#39;&#39;&#39;Usage: </span><span style="color: #A45A77; font-weight: bold">{</span>progname<span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121"> [options] [URL]</span>

<span style="color: #BA2121">    -y  YEARS   Which years to display (default: all)</span>
<span style="color: #BA2121">    -p          Display data as percentages.</span>
<span style="color: #BA2121">    -G          Do not include gender information.</span>
<span style="color: #BA2121">    -E          Do not include ethnic information.</span>
<span style="color: #BA2121">    &#39;&#39;&#39;</span>)
    sys<span style="color: #666666">.</span>exit(status)

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">load_demo_data</span>(url<span style="color: #666666">=</span>URL):
    <span style="color: #BA2121; font-style: italic">&#39;&#39;&#39; Load demographics from specified URL into dictionary</span>

<span style="color: #BA2121; font-style: italic">    &gt;&gt;&gt; load_demo_data(&#39;https://yld.me/raw/ilG&#39;).keys()</span>
<span style="color: #BA2121; font-style: italic">    dict_keys([&#39;2013&#39;, &#39;2014&#39;, &#39;2015&#39;, &#39;2016&#39;, &#39;2017&#39;, &#39;2018&#39;, &#39;2019&#39;])</span>

<span style="color: #BA2121; font-style: italic">    &gt;&gt;&gt; load_demo_data(&#39;https://yld.me/raw/ilG&#39;)[&#39;2013&#39;] == {&#39;M&#39;: 1, &#39;B&#39;: 2, &#39;F&#39;: 1, &#39;TOTAL&#39;: 2}</span>
<span style="color: #BA2121; font-style: italic">    True</span>

<span style="color: #BA2121; font-style: italic">    &gt;&gt;&gt; load_demo_data(&#39;https://yld.me/raw/ilG&#39;)[&#39;2019&#39;] == {&#39;M&#39;: 1, &#39;U&#39;: 2, &#39;F&#39;: 1, &#39;TOTAL&#39;: 2}</span>
<span style="color: #BA2121; font-style: italic">    True</span>
<span style="color: #BA2121; font-style: italic">    &#39;&#39;&#39;</span>
    <span style="color: #008000; font-weight: bold">return</span> {}

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">print_demo_separator</span>(years, char<span style="color: #666666">=</span><span style="color: #BA2121">&#39;=&#39;</span>):
    <span style="color: #BA2121; font-style: italic">&#39;&#39;&#39; Print demographics separator</span>

<span style="color: #BA2121; font-style: italic">    Note: The row consists of the 8 chars for each item in years + 1.</span>

<span style="color: #BA2121; font-style: italic">    &gt;&gt;&gt; print_demo_separator([&#39;2012&#39;, &#39;2013&#39;])</span>
<span style="color: #BA2121; font-style: italic">    ========================</span>
<span style="color: #BA2121; font-style: italic">    &#39;&#39;&#39;</span>
    <span style="color: #008000">print</span>()

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">print_demo_years</span>(years):
    <span style="color: #BA2121; font-style: italic">&#39;&#39;&#39; Print demographics years row</span>

<span style="color: #BA2121; font-style: italic">    Note: The row is prefixed by 4 spaces and each year is right aligned to 8</span>
<span style="color: #BA2121; font-style: italic">    spaces ({:&gt;8}).</span>

<span style="color: #BA2121; font-style: italic">    &gt;&gt;&gt; print_demo_years([&#39;2012&#39;, &#39;2013&#39;])</span>
<span style="color: #BA2121; font-style: italic">            2012    2013</span>
<span style="color: #BA2121; font-style: italic">    &#39;&#39;&#39;</span>
    <span style="color: #008000">print</span>()

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">print_demo_fields</span>(data, years, fields, percent<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">False</span>):
    <span style="color: #BA2121; font-style: italic">&#39;&#39;&#39; Print demographics information (for particular fields)</span>

<span style="color: #BA2121; font-style: italic">    Note: The first column should be a 4-spaced field name ({:&gt;4}), followed by</span>
<span style="color: #BA2121; font-style: italic">    8-spaced right aligned data columns ({:&gt;8}).  If `percent` is True, then</span>
<span style="color: #BA2121; font-style: italic">    display a percentage ({:&gt;7.1f}%) rather than the raw count.</span>

<span style="color: #BA2121; font-style: italic">    &gt;&gt;&gt; data  = load_demo_data(&#39;https://yld.me/raw/ilG&#39;)</span>
<span style="color: #BA2121; font-style: italic">    &gt;&gt;&gt; years = sorted(data.keys())</span>
<span style="color: #BA2121; font-style: italic">    &gt;&gt;&gt; print_demo_fields(data, years, GENDERS, False)</span>
<span style="color: #BA2121; font-style: italic">       M       1       1       1       1       1       1       1</span>
<span style="color: #BA2121; font-style: italic">       F       1       1       1       1       1       1       1</span>
<span style="color: #BA2121; font-style: italic">    &#39;&#39;&#39;</span>
    <span style="color: #008000">print</span>()

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">print_demo_data</span>(data, years<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">None</span>, percent<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">False</span>, gender<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">True</span>, ethnic<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">True</span>):
    <span style="color: #BA2121; font-style: italic">&#39;&#39;&#39; Print demographics data for the specified years and attributes &#39;&#39;&#39;</span>
    <span style="color: #008000; font-weight: bold">pass</span>

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">print_demo_gender</span>(data, years, percent<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">False</span>):
    <span style="color: #BA2121; font-style: italic">&#39;&#39;&#39; Print demographics gender information &#39;&#39;&#39;</span>
    print_demo_fields(data, years, GENDERS, percent)
    print_demo_separator(years, <span style="color: #BA2121">&#39;-&#39;</span>)

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">print_demo_ethnic</span>(data, years, percent<span style="color: #666666">=</span><span style="color: #008000; font-weight: bold">False</span>):
    <span style="color: #BA2121; font-style: italic">&#39;&#39;&#39; Print demographics ethnic information &#39;&#39;&#39;</span>
    print_demo_fields(data, years, ETHNICS, percent)
    print_demo_separator(years, <span style="color: #BA2121">&#39;-&#39;</span>)

<span style="color: #008000; font-weight: bold">def</span> <span style="color: #0000FF">main</span>():
    <span style="color: #BA2121; font-style: italic">&#39;&#39;&#39; Parse command line arguments, load data from url, and then print</span>
<span style="color: #BA2121; font-style: italic">    demographic data. &#39;&#39;&#39;</span>
    arguments <span style="color: #666666">=</span> sys<span style="color: #666666">.</span>argv[<span style="color: #666666">1</span>:]
    url       <span style="color: #666666">=</span> URL
    years     <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">None</span>
    gender    <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">True</span>
    ethnic    <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">True</span>
    percent   <span style="color: #666666">=</span> <span style="color: #008000; font-weight: bold">False</span>

<span style="color: #3D7B7B; font-style: italic"># Main Execution</span>

<span style="color: #008000; font-weight: bold">if</span> <span style="color: #19177C">__name__</span> <span style="color: #666666">==</span> <span style="color: #BA2121">&#39;__main__&#39;</span>:
    main()
</code></pre></div>

<div class="alert alert-success">
<h4 id="hints_1"><i class="fa fa-lightbulb-o"></i> Hints<a class="headerlink" href="#hints_1" title="Permanent link">&para;</a></h4>
<ul>
<li>
<p>Read the <code>TODO</code> comments carefully.  <strong>DO NOT REMOVE THE <a href="https://docs.python.org/3/library/doctest.html">doctests</a></strong>!</p>
</li>
<li>
<p><code>load_demo_data</code>: To fetch the <a href="https://yld.me/raw/e2Ad">demographic data</a>, you can use the
  <a href="http://docs.python-requests.org/en/master/user/quickstart/#make-a-request">requests.get</a> method.  You can then access the raw data via the <code>text</code>
  property of the object returned by <a href="http://docs.python-requests.org/en/master/user/quickstart/#make-a-request">requests.get</a>.  You will then need to
  organize the <a href="https://en.wikipedia.org/wiki/Comma-separated_values">CSV</a> data into a <a href="https://docs.python.org/3/library/stdtypes.html#mapping-types-dict">dictionary</a> of the following format:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>{&quot;year&quot;: {&quot;gender&quot;: count, &quot;ethnic&quot;: count, &quot;TOTAL&quot;: count}}
</code></pre></div>

</li>
<li>
<p><code>print_demo_separator</code>: To display a separator line, this function should
  print 8 <code>char</code>s for each <code>year + 1</code>.  Consider using string multiplication:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #008000">print</span>(<span style="color: #BA2121">&#39; &#39;</span><span style="color: #666666">*8</span>)  <span style="color: #3D7B7B; font-style: italic"># Prints 8 spaces</span>
</code></pre></div>

</li>
<li>
<p><code>print_demo_years</code>: To display the years, this function should use the
  start with a string with <code>4</code> spaces and then concatenate to this string
  each year formatted so it is right-aligned to <code>8</code> spaces.  You can
  accomplish alignment by doing the following:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic"># Print the value of variable aligned to the right and taking up at least 8 spaces</span>
<span style="color: #008000">print</span>(<span style="color: #BA2121">f&#39;</span><span style="color: #A45A77; font-weight: bold">{</span>variable<span style="color: #A45A77; font-weight: bold">:</span><span style="color: #BA2121">&gt;8</span><span style="color: #A45A77; font-weight: bold">}</span><span style="color: #BA2121">&#39;</span>)
</code></pre></div>

</li>
<li>
<p><code>print_demo_fields</code>: To display all the rows for a given list of <code>fields</code>,
  this function should build a row of text column by column.  Special care
  must be taken to display percentages versus raw counts.</p>
</li>
<li>
<p><code>print_demo_data</code>: To display the table of data, this function should call
  the <code>print_demo_years</code> and <code>print_demo_separator</code> functions, followed by
  the <code>print_demo_gender</code> and <code>print_demo_ethnic</code> functions if necessary.</p>
</li>
<li>
<p><code>print_demo_gender</code>: This function simply calls the <code>print_demo_fields</code> and
  <code>print_demo_separator</code> functions and is provided to you.</p>
</li>
<li>
<p><code>print_demo_ethnic</code>: This function simply calls the <code>print_demo_fields</code> and
  <code>print_demo_separator</code> functions and is provided to you.</p>
</li>
</ul>
</div>
<div class="alert alert-warning">
<h4 id="iterative-and-incremental-development"><i class="fa fa-gears"></i> Iterative and incremental development<a class="headerlink" href="#iterative-and-incremental-development" title="Permanent link">&para;</a></h4>
<p>Do not try to implement everything at once. Instead, approach this activity
with the <a href="https://en.wikipedia.org/wiki/Iterative_and_incremental_development">iterative and incremental
development</a>
mindset and slowly build pieces of your application one feature at a time:</p>
<ol>
<li>
<p>Parse the program arguments.</p>
</li>
<li>
<p>Fetch the data from the specified <strong>URL</strong> and organize into a
<a href="https://docs.python.org/3/library/stdtypes.html#mapping-types-dict">dictionary</a>.</p>
</li>
<li>
<p>Write the table header.</p>
</li>
<li>
<p>Write one table row based on a field.</p>
</li>
</ol>
<p><strong>Remember</strong> that the goal at the end of each iteration is that you have a
<strong>working</strong> program that successfully implements all of the features up to
that point.</p>
<p>Focus on <strong>one thing at a time</strong> and feel free to write small <strong>test code</strong>
to try things out.</p>
</div>
<h3 id="task-2-test_demographicssh">Task 2: <code>test_demographics.sh</code><a class="headerlink" href="#task-2-test_demographicssh" title="Permanent link">&para;</a></h3>
<p>To aid you in testing the <code>demographics.py</code> script, we have provided you with
<code>test_demographics.sh</code>, which you can use as follows:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ ./test_demographics.sh
Testing demographics.py ...
   Doctests                                 ... <span style="color: #666666">1</span>.00 / <span style="color: #666666">1</span>.00
   Bad arguments                            ... Success
   -h                                       ... Success
   No arguments                             ... Success
   e2Ad                                     ... Success
   e2Ad -y <span style="color: #666666">2013</span>                             ... Success
   e2Ad -y <span style="color: #666666">2025</span>                             ... Success
   e2Ad -y <span style="color: #666666">2019</span>,2023,2021,2025              ... Success
   e2Ad -p                                  ... Success
   e2Ad -G                                  ... Success
   e2Ad -E                                  ... Success
   ilG                                      ... Success
   ilG -y <span style="color: #666666">2016</span> -p                           ... Success
   ilG -y <span style="color: #666666">2016</span> -p -E                        ... Success
   ilG -y <span style="color: #666666">2016</span> -p -E -G                     ... Success

   Score <span style="color: #666666">6</span>.00 / <span style="color: #666666">6</span>.00
  Status Success
</code></pre></div>

<h2 id="activity-3-quiz-1-point">Activity 3: Quiz (1 Point)<a class="headerlink" href="#activity-3-quiz-1-point" title="Permanent link">&para;</a></h2>
<p>Once you have completed all the activities above, you are to complete the
following <strong>reflection quiz</strong>:</p>
<div id="quiz-questions"></div>

<div id="quiz-responses"></div>

<script src="static/js/dredd-quiz.js"></script>
<script>
loadQuiz('static/json/homework05.json');
</script>

<pre style="display: none;" id="dr-container" class="codehilite"><code id="dredd-response"></code></pre>

<p>As with [Reading 01], you will need to store your answers in a
<code>homework04/answers.json</code> file.  You can use the form above to generate the
contents of this file, or you can write the <a href="http://www.json.org/">JSON</a> by hand.</p>
<p>To test your quiz, you can use the <code>check.py</code> script:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ ../.scripts/check.py
Checking homework05 quiz ...
     Q01 <span style="color: #666666">0</span>.40
     Q02 <span style="color: #666666">0</span>.60
   Score <span style="color: #666666">1</span>.00 / <span style="color: #666666">1</span>.00
  Status Success
</code></pre></div>

<h2 id="guru-point-1-point">Guru Point (1 Point)<a class="headerlink" href="#guru-point-1-point" title="Permanent link">&para;</a></h2>
<p>For extra credit, you are to visualize the CSE demographics data above as
graphical plots using <a href="https://www.python.org/">Python</a> and <a href="https://matplotlib.org/">matplotlib</a> inside a <a href="https://jupyter.org/">Jupyter</a> notebook.
You should produce graphs like these:</p>
<div class="thumbnail">
    <img src="static/img/gender-2025.png">
</div>

<div class="thumbnail">
    <img src="static/img/ethnic-2025.png">
</div>

<p>To run <a href="https://jupyter.org/">Jupyter</a> on the <strong>student machines</strong>:, you can use the following command:</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code>$ jupyter-notebook-3.10 --ip studentXX.cse.nd.edu --port <span style="color: #666666">9000</span> --no-browser
</code></pre></div>

<p>Replace <code>studentXX.cse.nd.edu</code> with the name of the student machine you are
on.  Also, you may need to change the port to something else between <code>9000</code> -
<code>9999</code>.</p>
<div class="alert alert-warning">
<h4 id="google-colaboratory"><i class="fa fa-google"></i> Google Colaboratory<a class="headerlink" href="#google-colaboratory" title="Permanent link">&para;</a></h4>
<p>Alternatively, you can use <a href="https://colab.research.google.com">Google Colaboratory</a> to run a <a href="https://jupyter.org/">Jupyter</a> notebook
from your Google Drive.  This is a hassle-free way to explore developing with
<a href="https://www.python.org/">Python</a> and <a href="https://matplotlib.org/">matplotlib</a>, while using Google Cloud resources (<em>thus no need
for the VPN or the student machines</em>).</p>
</div>
<div class="alert alert-info">
<h4 id="verification"><i class="fa fa-check"></i> Verification<a class="headerlink" href="#verification" title="Permanent link">&para;</a></h4>
<p>To get credit for this Guru Point, show your <a href="https://jupyter.org/">Jupyter</a> notebook with the
graphical plots to a TA to verify (or attached a video / screenshot to your
<strong>Pull Request</strong>). You have up until a week <strong>after</strong> this assignment is due
to verify your Guru Point.</p>
</div>
<div class="alert alert-success">
<h4 id="self-service-extension"><i class="fa fa-calendar"></i> Self-Service Extension<a class="headerlink" href="#self-service-extension" title="Permanent link">&para;</a></h4>
<p>Remember that you can always <strong>forgo</strong> this Guru Point for <strong>two extra days</strong>
to do the homework.  That is, if you need an extension, you can simply skip
the Guru Point and you will automatically have until Monday to complete the
assignment for full credit.</p>
<p>Just leave a note on your <strong>Pull Request</strong> of your intentions.</p>
</div>
<h2 id="submission">Submission<a class="headerlink" href="#submission" title="Permanent link">&para;</a></h2>
<p>To submit your assignment, please commit your work to the <code>homework05</code> folder
of your <code>homework05</code> branch in your <strong>assignments</strong> <a href="https://github.com">GitHub</a> repository.
Your <code>homework04</code> folder should only contain the following files:</p>
<ul>
<li><code>Makefile</code></li>
<li><code>answers.json</code></li>
<li><code>demographics.py</code></li>
<li><code>reddit.py</code></li>
</ul>
<p><strong>Note</strong>: You do not need to commit the test scripts because the <code>Makefile</code>
automatically downloads them.</p>
<div class="codehilite" style="background: #f8f8f8"><pre style="line-height: 125%;"><span></span><code><span style="color: #3D7B7B; font-style: italic">#--------------------------------------------------</span>
<span style="color: #3D7B7B; font-style: italic"># BE SURE TO DO THE PREPARATION STEPS IN ACTIVITY 0</span>
<span style="color: #3D7B7B; font-style: italic">#--------------------------------------------------</span>

$ <span style="color: #008000">cd</span> homework05                           <span style="color: #3D7B7B; font-style: italic"># Go to Homework 05 directory</span>
...
$ <span style="color: #19177C">$EDITOR</span> reddit.py                       <span style="color: #3D7B7B; font-style: italic"># Edit script</span>
$ git add reddit.py                       <span style="color: #3D7B7B; font-style: italic"># Mark changes for commit</span>
$ git commit -m <span style="color: #BA2121">&quot;homework05: activity 1&quot;</span>  <span style="color: #3D7B7B; font-style: italic"># Record changes</span>
...
$ <span style="color: #19177C">$EDITOR</span> demographics.py                 <span style="color: #3D7B7B; font-style: italic"># Edit script</span>
$ git add demographics.py                 <span style="color: #3D7B7B; font-style: italic"># Mark changes for commit</span>
$ git commit -m <span style="color: #BA2121">&quot;homework05: activity 2&quot;</span>  <span style="color: #3D7B7B; font-style: italic"># Record changes</span>
...
$ <span style="color: #19177C">$EDITOR</span> answers.json                    <span style="color: #3D7B7B; font-style: italic"># Edit quiz</span>
$ git add answers.json                    <span style="color: #3D7B7B; font-style: italic"># Mark changes for commit</span>
$ git commit -m <span style="color: #BA2121">&quot;homework05: activity 3&quot;</span>  <span style="color: #3D7B7B; font-style: italic"># Record changes</span>
...
$ git push -u origin homework05           <span style="color: #3D7B7B; font-style: italic"># Push branch to GitHub</span>
</code></pre></div>

<div class="alert alert-danger">
<h4 id="pull-request"><i class="fa fa-github"></i> Pull Request<a class="headerlink" href="#pull-request" title="Permanent link">&para;</a></h4>
<p>Remember to create a <strong>Pull Request</strong> and assign the appropriate TA from the
<a href="reading06_tas.html">Reading 06 TA List</a>.</p>
<p><strong>DO NOT MERGE</strong> your own <strong>Pull Request</strong>.  The TAs use open <strong>Pull
Requests</strong> to keep track of which assignments to grade.  Closing them
yourself will cause a delay in grading and confuse the TAs.</p>
</div>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Or just browsing on your phone during lecture. Never forget.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p>However, <a href="https://www.youtube.com/watch?v=PUMkxH03V5c">Caring is Creepy</a>&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
<li id="fn:3">
<p>Even with the writing tablet...&#160;<a class="footnote-backref" href="#fnref:3" title="Jump back to footnote 3 in the text">&#8617;</a></p>
</li>
<li id="fn:4">
<p>It is.&#160;<a class="footnote-backref" href="#fnref:4" title="Jump back to footnote 4 in the text">&#8617;</a></p>
</li>
<li id="fn:5">
<p>Please don't mess with this sub-reddit on purpose.  I'm looking at you <code>#csememers</code> (RIP).&#160;<a class="footnote-backref" href="#fnref:5" title="Jump back to footnote 5 in the text">&#8617;</a></p>
</li>
</ol>
</div>


	    <div class="row">
		<hr/>

		<footer class="text-center">
		    <p class="text-muted">
		    <small>
		    Built using
		    <a href="http://twitter.github.com/bootstrap/">Bootstrap</a>,
		    <a href="http://fortawesome.github.com/Font-Awesome/">Font Awesome</a>, and
		    <a href="http://www.python.org/">Python</a>.
		    <br/>
		    &copy; 2023 <a href="http://www.nd.edu">University of Notre Dame</a>
		    </small>
		    </p>
		</footer>
	    </div>

	</div> <!-- /container -->

	<!-- Bootstrap core JavaScript
	================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	
	
    </body>
</html>

